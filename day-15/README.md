# Day 15: A2UI - Agent ç”ŸæˆåŠ¨æ€ç•Œé¢

## ä»ä¸€ä¸ªç³Ÿç³•çš„ä½“éªŒè¯´èµ·

ä½ å¼€å‘äº†ä¸€ä¸ªé¤å…æ¨è Agentã€‚ç”¨æˆ·é—®ï¼š"å¸®æˆ‘æ‰¾ä¸€å®¶é™„è¿‘çš„è¥¿é¤å…"

Agent å›å¤ï¼š

```
æˆ‘æ‰¾åˆ°äº†ä»¥ä¸‹é¤å…ï¼š
1. æ„å¤§åˆ©èŠ±å›­ - äººå‡ Â¥180 - è¯„åˆ† 4.8 - è·ç¦» 500m
2. ç‰›æ’å·¥åŠ - äººå‡ Â¥280 - è¯„åˆ† 4.5 - è·ç¦» 800m
...
è¯·å‘Šè¯‰æˆ‘æ‚¨æƒ³é€‰æ‹©å“ªå®¶...
```

ç”¨æˆ·éœ€è¦ä»æ–‡å­—ä¸­"è„‘è¡¥"å‡ºåˆ—è¡¨ï¼Œæ‰‹åŠ¨è¾“å…¥é€‰æ‹©ã€‚

## å¦‚æœ Agent èƒ½ç”Ÿæˆ UI å‘¢ï¼Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ½ï¸ é™„è¿‘çš„è¥¿é¤å…                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ• æ„å¤§åˆ©èŠ±å›­  Â¥180  â˜…4.8  500m  [æŸ¥çœ‹] [é¢„è®¢] â”‚
â”‚  ğŸ¥© ç‰›æ’å·¥åŠ   Â¥280  â˜…4.5  800m  [æŸ¥çœ‹] [é¢„è®¢] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ç”¨æˆ·ç›´æ¥ç‚¹å‡»ã€ç­›é€‰ã€é¢„è®¢ã€‚è¿™å°±æ˜¯ **A2UI** è¦è§£å†³çš„é—®é¢˜ã€‚

## A2UI æ˜¯ä»€ä¹ˆï¼Ÿ

A2UI (Agent-to-User Interface) æ˜¯ Google æ¨å‡ºçš„å£°æ˜å¼ UI åè®®ï¼š

- **Agent ä¸ç”Ÿæˆä»£ç **ï¼Œåªæè¿°"æƒ³è¦ä»€ä¹ˆç•Œé¢"
- **å®¢æˆ·ç«¯æ¸²æŸ“å™¨** ç”¨é¢„å®šä¹‰çš„å®‰å…¨ç»„ä»¶æ¸²æŸ“
- **è·¨å¹³å°**ï¼šåŒä¸€ä»½ JSON å¯æ¸²æŸ“åˆ° Webã€iOSã€Android

## å¿«é€Ÿå¼€å§‹

### 1. è¿›å…¥ç›®å½•

```bash
cd day-15
```

### 2. å¯åŠ¨æœåŠ¡å™¨

```bash
uv run python server.py
```

çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºè¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š

```
============================================================
Day 15: A2UI Demo Server
============================================================

ğŸŒ è®¿é—®: http://localhost:8002

åŠŸèƒ½:
  - è¾“å…¥è‡ªç„¶è¯­è¨€æè¿°ï¼Œç”ŸæˆåŠ¨æ€ UI
  - å®æ—¶æ¸²æŸ“ A2UI ç»„ä»¶
  - æŸ¥çœ‹ç”Ÿæˆçš„ JSON ç»“æ„

============================================================
INFO:     Uvicorn running on http://localhost:8002
```

### 3. æ‰“å¼€æµè§ˆå™¨

è®¿é—® http://localhost:8002

### 4. è¯•è¯•è¿™äº›åŠŸèƒ½

- ç‚¹å‡»å¿«æ·æŒ‰é’®ï¼š**ç™»å½•è¡¨å•**ã€**é¤å…æ¨è**ã€**å¤©æ°”å¡ç‰‡**
- æˆ–è¾“å…¥è‡ªå®šä¹‰æè¿°ï¼š"åˆ›å»ºä¸€ä¸ªç”¨æˆ·æ³¨å†Œè¡¨å•"
- æŸ¥çœ‹å³ä¾§ç”Ÿæˆçš„ A2UI JSON ç»“æ„
- ç‚¹å‡»æŒ‰é’®ï¼Œè§‚å¯Ÿå³ä¸‹è§’äº‹ä»¶æ—¥å¿—

## é¡¹ç›®ç»“æ„

```
day-15/
â”œâ”€â”€ README.md              # æœ¬æ–‡ä»¶
â”œâ”€â”€ a2ui.py                # A2UI Python SDK
â”œâ”€â”€ server.py              # Web æœåŠ¡å™¨ + JS æ¸²æŸ“å™¨
â””â”€â”€ day-15-a2ui.ipynb      # Jupyter æ•™ç¨‹ï¼ˆå¯é€‰ï¼‰
```

## ä»£ç ç¤ºä¾‹

### ä½¿ç”¨ Python SDK

```python
from a2ui import A2UI

# é“¾å¼ API æ„å»ºç•Œé¢
ui = (A2UI("login")
    .text("title", "ç”¨æˆ·ç™»å½•", "h1")
    .text_field("username", "/user/name", "ç”¨æˆ·å")
    .text_field("password", "/user/password", "å¯†ç ")
    .button("submit", "ç™»å½•", "submit_login")
    .column("form", ["title", "username", "password", "submit"])
    .card("card", "form"))

# ç”Ÿæˆ A2UI JSONL
print(ui.build("card"))
```

è¾“å‡ºï¼š

```jsonl
{"surfaceUpdate": {"surfaceId": "login", "components": [...]}}
{"beginRendering": {"surfaceId": "login", "root": "card"}}
```

### ä½¿ç”¨å·¥å‚å‡½æ•°

```python
from a2ui import create_restaurant_list, create_weather_card

# é¤å…åˆ—è¡¨
restaurants = [
    {"name": "æ„å¤§åˆ©èŠ±å›­", "price": 180, "rating": 4.8, "distance": "500m"},
    {"name": "ç‰›æ’å·¥åŠ", "price": 280, "rating": 4.5, "distance": "800m"},
]
ui = create_restaurant_list(restaurants)
print(ui.build("main"))

# å¤©æ°”å¡ç‰‡
ui = create_weather_card("åŒ—äº¬", 25, "æ™´å¤©", 45)
print(ui.build("card"))
```

### ç›´æ¥è¿è¡Œæµ‹è¯•

```bash
uv run python a2ui.py
```

## A2UI æ ¸å¿ƒæ¦‚å¿µ

### ä¸‰ç§æ¶ˆæ¯ç±»å‹

| æ¶ˆæ¯ | ä½œç”¨ |
|------|------|
| `surfaceUpdate` | å®šä¹‰ UI ç»„ä»¶åŠå±æ€§ |
| `dataModelUpdate` | è®¾ç½®æ•°æ®æ¨¡å‹ï¼ˆå¯é€‰ï¼‰ |
| `beginRendering` | å¼€å§‹æ¸²æŸ“ï¼ŒæŒ‡å®šæ ¹ç»„ä»¶ |

### æ”¯æŒçš„ç»„ä»¶

| ç»„ä»¶ | ç”¨é€” | ç¤ºä¾‹ |
|------|------|------|
| Text | æ–‡æœ¬æ˜¾ç¤º | æ ‡é¢˜ã€æ®µè½ |
| Button | æŒ‰é’® | æäº¤ã€å–æ¶ˆ |
| TextField | è¾“å…¥æ¡† | ç”¨æˆ·åã€å¯†ç  |
| Column | å‚ç›´å¸ƒå±€ | è¡¨å•æ’åˆ— |
| Row | æ°´å¹³å¸ƒå±€ | æŒ‰é’®ç»„ |
| Card | å¡ç‰‡å®¹å™¨ | å†…å®¹åˆ†ç»„ |
| Image | å›¾ç‰‡ | å¤´åƒã€å°é¢ |
| Divider | åˆ†éš”çº¿ | å†…å®¹åˆ†éš” |
| Checkbox | å¤é€‰æ¡† | å‹¾é€‰é€‰é¡¹ |

### æ¶æ„å›¾

```
ç”¨æˆ·è¾“å…¥ "ç™»å½•è¡¨å•"
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gemini     â”‚  ç†è§£æ„å›¾ï¼Œç”Ÿæˆ A2UI JSON
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Python SDK  â”‚  a2ui.py æ„å»ºç»„ä»¶
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FastAPI    â”‚  server.py æä¾› API
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ HTTP
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JS Renderer â”‚  æµè§ˆå™¨æ¸²æŸ“çœŸå® UI
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä¸ Gemini é›†æˆ

æœåŠ¡å™¨ä¼šè‡ªåŠ¨æ£€æµ‹ `GOOGLE_API_KEY` ç¯å¢ƒå˜é‡ï¼š

- **æœ‰ API Key**ï¼šä½¿ç”¨ Gemini åŠ¨æ€ç”Ÿæˆ UI
- **æ—  API Key**ï¼šä½¿ç”¨é¢„å®šä¹‰æ¨¡æ¿ï¼ˆä»å¯æ­£å¸¸æ¼”ç¤ºï¼‰

è®¾ç½® API Keyï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½• .env æ–‡ä»¶ä¸­
GOOGLE_API_KEY=your_api_key_here
```

## ä¸ Day 14 A2A çš„å…³ç³»

| Day 14 A2A | Day 15 A2UI |
|------------|-------------|
| Agent ä¹‹é—´å¦‚ä½•é€šä¿¡ | Agent å¦‚ä½•å‘ç”¨æˆ·å±•ç¤ºç•Œé¢ |
| åè®®å±‚ | è¡¨ç°å±‚ |

A2UI æ¶ˆæ¯å¯ä»¥é€šè¿‡ A2A åè®®ä¼ è¾“ï¼Œå®ç°å¤š Agent åä½œç”Ÿæˆ UIã€‚

## å¸¸è§é—®é¢˜

### Q: ç«¯å£ 8002 è¢«å ç”¨ï¼Ÿ

ä¿®æ”¹ `server.py` æœ€åä¸€è¡Œçš„ç«¯å£å·ï¼š

```python
uvicorn.run(app, host="localhost", port=8003)  # æ”¹æˆå…¶ä»–ç«¯å£
```

### Q: æç¤º ModuleNotFoundErrorï¼Ÿ

ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•å®‰è£…äº†ä¾èµ–ï¼š

```bash
cd ..  # å›åˆ°é¡¹ç›®æ ¹ç›®å½•
uv sync
```

### Q: Gemini ç”Ÿæˆçš„ UI ä¸ç¬¦åˆé¢„æœŸï¼Ÿ

è¿™æ˜¯æ­£å¸¸çš„ï¼ŒLLM ç”Ÿæˆæœ‰éšæœºæ€§ã€‚å¯ä»¥ï¼š
1. é‡æ–°ç”Ÿæˆ
2. è°ƒæ•´ prompt æè¿°æ›´å…·ä½“
3. ç›´æ¥ä½¿ç”¨å¿«æ·æŒ‰é’®ï¼ˆä½¿ç”¨é¢„å®šä¹‰æ¨¡æ¿ï¼‰

## æ‰©å±•é˜…è¯»

- [A2UI å®˜ç½‘](https://a2ui.org/)
- [A2UI GitHub](https://github.com/google/A2UI)
- [A2UI Composer](https://a2ui-editor.ag-ui.com/) - åœ¨çº¿å¯è§†åŒ–ç¼–è¾‘å™¨
- [CopilotKit A2UI é›†æˆ](https://www.copilotkit.ai/blog/how-to-build-agent-to-user-interface-a2ui-agents-using-a2a-ag-ui)
